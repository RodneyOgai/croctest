{"version":3,"file":"vue-yandex-share.min.js","sources":["../src/Script.js","../src/YandexShare.js","../src/index.js"],"sourcesContent":["class Script {\n  constructor() {\n    // Script is attached\n    this.attached = false;\n    // Script is loaded\n    this.loaded = false;\n    // Error while loading script\n    this.error = false;\n    // Callbacks stack from moment when script attached, but not loaded\n    this.stack = [];\n  }\n\n  /**\n   * Attach script. Returns promise to know when it will loaded.\n   * @return {Promise}\n   */\n  attach() {\n    return new Promise((resolve, reject) => {\n      if (!this.attached) {\n        const script = document.createElement('script');\n        script.setAttribute('src', 'https://yastatic.net/share2/share.js');\n        script.setAttribute('async', '');\n        document.head.appendChild(script);\n        script.onload = () => {\n          resolve();\n          this.loaded = true;\n          this.stack.forEach((cb) => {\n            cb[0]();\n          });\n          this.stack = [];\n        };\n        script.onerror = () => {\n          reject();\n          this.loaded = true;\n          this.error = true;\n          this.stack.forEach((cb) => {\n            cb[1]();\n          });\n          this.stack = [];\n        };\n        this.attached = true;\n      }\n\n      if (this.error) {\n        reject();\n      }\n\n      if (this.loaded) {\n        resolve();\n      } else {\n        this.stack.push([resolve, reject]);\n      }\n    });\n  }\n}\n\nexport default new Script();\n","import Script from './Script';\n\nexport default {\n  name: 'YandexShare',\n  props: {\n    services: {\n      type: Array,\n      required: true,\n    },\n    counter: {\n      type: Boolean,\n      default: false,\n    },\n    url: {\n      type: String,\n      default: '',\n    },\n    title: {\n      type: String,\n      default: '',\n    },\n    description: {\n      type: String,\n      default: '',\n    },\n    image: {\n      type: String,\n      default: undefined,\n    },\n    contentByService: {\n      type: Object,\n      default() {\n        return {};\n      },\n    },\n    vertical: {\n      type: Boolean,\n      default: false,\n    },\n    small: {\n      type: Boolean,\n      default: false,\n    },\n    lang: {\n      type: String,\n      default: 'ru',\n    },\n    limit: {\n      type: Number,\n      default: undefined,\n    },\n    bare: {\n      type: Boolean,\n      default: false,\n    },\n    copy: {\n      type: String,\n      default: 'last',\n    },\n    popupTop: {\n      type: Boolean,\n      default: false,\n    },\n    popupOuter: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  mounted() {\n    Script.attach().then(() => {\n      window.Ya.share2(this.$el, {\n        content: {\n          url: this.url || window.location.href,\n          title: this.title || document.title,\n          description: this.description,\n          image: this.image,\n        },\n        contentByService: this.contentByService,\n        theme: {\n          bare: this.bare,\n          copy: this.copy,\n          counter: this.counter,\n          direction: this.vertical ? 'vertical' : 'horizontal',\n          lang: this.lang,\n          limit: this.limit,\n          popupDirection: this.popupTop ? 'top' : 'bottom',\n          popupPosition: this.popupOuter ? 'outer' : 'inner',\n          services: this.services.join(','),\n          size: this.small ? 's' : 'm',\n        },\n        hooks: {\n          onready: () => { this.$emit('ready'); },\n          onshare: (name) => { this.$emit('share', name); },\n        },\n      });\n    });\n  },\n  render(h) {\n    return h('div');\n  },\n};\n","import YandexShare from './YandexShare';\n\nif (typeof window !== 'undefined' && window.Vue) {\n  window.Vue.component('yandex-share', YandexShare);\n}\n\nexport default YandexShare;\n"],"names":["attached","loaded","error","stack","Promise","resolve","reject","_this","script","document","createElement","setAttribute","head","appendChild","onload","forEach","cb","onerror","push","Array","Boolean","String","undefined","Object","Number","attach","then","Ya","share2","$el","url","window","location","href","title","description","image","contentByService","bare","copy","counter","vertical","lang","limit","popupTop","popupOuter","services","join","small","$emit","name","h","Vue","component","YandexShare"],"mappings":"sWAwDe,uIArDNA,UAAW,OAEXC,QAAS,OAETC,OAAQ,OAERC,mFAQE,IAAIC,QAAQ,SAACC,EAASC,OACtBC,EAAKP,SAAU,KACZQ,EAASC,SAASC,cAAc,YAC/BC,aAAa,MAAO,0CACpBA,aAAa,QAAS,aACpBC,KAAKC,YAAYL,KACnBM,OAAS,iBAETb,QAAS,IACTE,MAAMY,QAAQ,SAACC,KACf,SAEAb,YAEAc,QAAU,iBAEVhB,QAAS,IACTC,OAAQ,IACRC,MAAMY,QAAQ,SAACC,KACf,SAEAb,YAEFH,UAAW,EAGdO,EAAKL,WAILK,EAAKN,aAGFE,MAAMe,MAAMb,EAASC,oDC/C1B,oCAGIa,gBACI,iBAGJC,iBACG,aAGHC,eACG,gBAGHA,eACG,sBAGHA,eACG,gBAGHA,oBACGC,0BAGHC,oDAMAH,iBACG,eAGHA,iBACG,cAGHC,eACG,kBAGHG,oBACGF,cAGHF,iBACG,cAGHC,eACG,uBAGHD,iBACG,oBAGHA,iBACG,oCAIJK,SAASC,KAAK,kBACZC,GAAGC,OAAOrB,EAAKsB,kBAEbtB,EAAKuB,KAAOC,OAAOC,SAASC,WAC1B1B,EAAK2B,OAASzB,SAASyB,kBACjB3B,EAAK4B,kBACX5B,EAAK6B,wBAEI7B,EAAK8B,6BAEf9B,EAAK+B,UACL/B,EAAKgC,aACFhC,EAAKiC,kBACHjC,EAAKkC,SAAW,WAAa,kBAClClC,EAAKmC,WACJnC,EAAKoC,qBACIpC,EAAKqC,SAAW,MAAQ,uBACzBrC,EAAKsC,WAAa,QAAU,iBACjCtC,EAAKuC,SAASC,KAAK,UACvBxC,EAAKyC,MAAQ,IAAM,oBAGhB,aAAaC,MAAM,kBACnB,SAACC,KAAgBD,MAAM,QAASC,0BAK1CC,UACEA,EAAE,eChGS,oBAAXpB,QAA0BA,OAAOqB,YACnCA,IAAIC,UAAU,eAAgBC"}